<script type="text/javascript" src="/build/browserfs.js"></script>
<script type="text/javascript">
  // Installs globals onto window:
  // * Buffer
  // * require (monkey-patches if already defined)
  // * process
  // You can pass in an arbitrary object if you do not wish to pollute
  // the global namespace.
  BrowserFS.install(window);
  // Configures BrowserFS to use the LocalStorage file system.
  BrowserFS.configure({
    fs: 'LocalStorage',
  }, function(e) {
    if (e) {
      // An error happened!
      throw e;
    }
    console.log(e);

    var fs = require('fs');
    fs.writeFile('/test.txt', 'Cool, I can do this in the browser!', function(err) {
      console.log(err);
      fs.readFile('/test.txt', function(err, contents) {
        console.log(contents.toString());
      });
    });
    // Otherwise, BrowserFS is ready-to-use!
  });
</script>
